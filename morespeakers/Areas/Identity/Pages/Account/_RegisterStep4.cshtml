@model RegisterModel

<div class="form-step" data-step="4">
    @if (ViewData["HasValidationErrors"] as bool? == true)
    {
        <div class="alert alert-danger mb-3">
            <i class="bi bi-exclamation-triangle me-2"></i>@ViewData["ValidationMessage"]
        </div>
    }
    @if (ViewData["SuccessMessage"] != null)
    {
        <div class="alert alert-success mb-3">
            <i class="bi bi-check-circle me-2"></i>@ViewData["SuccessMessage"]
        </div>
    }
    <h5 class="mb-4">Social Media & Professional Links</h5>
    <p class="text-muted mb-4">Share your professional social media profiles to help others connect with you.</p>

    <div id="socialMediaContainer">
        <div class="row mb-3 social-media-row">
            <div class="col-md-4">
                <select name="Input.SocialMediaPlatforms" class="form-select">
                    <option value="">Select Platform</option>
                    <option value="LinkedIn">LinkedIn</option>
                    <option value="Twitter">Twitter</option>
                    <option value="GitHub">GitHub</option>
                    <option value="YouTube">YouTube</option>
                    <option value="Website">Personal Website</option>
                    <option value="Blog">Blog</option>
                    <option value="Other">Other</option>
                </select>
            </div>
            <div class="col-md-6">
                <input type="url" name="Input.SocialMediaUrls" class="form-control" placeholder="https://..."/>
            </div>
            <div class="col-md-2">
                <button type="button" class="btn btn-outline-primary w-100" onclick="addSocialMediaRow()">
                    <i class="bi bi-plus"></i>
                </button>
            </div>
        </div>
    </div>
</div>

<script>
    function addSocialMediaRow() {
        const container = document.getElementById('socialMediaContainer');
        const newRow = document.createElement('div');
        newRow.className = 'row mb-3 social-media-row';
        newRow.innerHTML = `
        <div class="col-md-4">
            <select name="Input.SocialMediaPlatforms" class="form-select">
                <option value="">Select Platform</option>
                <option value="LinkedIn">LinkedIn</option>
                <option value="Twitter">Twitter</option>
                <option value="GitHub">GitHub</option>
                <option value="YouTube">YouTube</option>
                <option value="Website">Personal Website</option>
                <option value="Blog">Blog</option>
                <option value="Other">Other</option>
            </select>
        </div>
        <div class="col-md-6">
            <input type="url" name="Input.SocialMediaUrls" class="form-control" placeholder="https://..." />
        </div>
        <div class="col-md-2">
            <button type="button" class="btn btn-outline-danger w-100" onclick="removeSocialMediaRow(this)">
                <i class="bi bi-trash"></i>
            </button>
        </div>
    `;
        container.appendChild(newRow);
    }

    function removeSocialMediaRow(button) {
        if (document.querySelectorAll('.social-media-row').length > 1) {
            button.closest('.social-media-row').remove();
        }
    }
</script>